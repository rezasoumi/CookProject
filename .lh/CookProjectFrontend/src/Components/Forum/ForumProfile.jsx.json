{
    "sourceFile": "CookProjectFrontend/src/Components/Forum/ForumProfile.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1678270464305,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1678270665927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n     },\r\n   ];\r\n   const { chiefName } = useParams();\r\n   const [chiefDetail, setChiefDetail] = useState({});\r\n-  const [chiefForum, setchiefForum] = useState([]);\r\n+  const [chiefForum, setchiefForum] = useState([\"\"]);\r\n   const user = useLogin();\r\n \r\n   const getForum = (value) => {\r\n     axios\r\n@@ -149,9 +149,9 @@\n                       <TableCell>تعداد کاربر</TableCell>\r\n                     </TableRow>\r\n                   </TableHead>\r\n                   <TableBody>\r\n-                    {chiefForum.m((Forum) => (\r\n+                    {chiefForum.map((Forum) => (\r\n                       <TableRow>\r\n                         <TableCell>{Forum.id}</TableCell>\r\n                         <TableCell><Link to={`/forum-profile/${chiefName}/forumList/${Forum.name}/h/${Forum.id}`} >{Forum.name}</Link></TableCell>\r\n                         <TableCell>{Forum.members_count}</TableCell>\r\n"
                },
                {
                    "date": 1678270836914,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n     },\r\n   ];\r\n   const { chiefName } = useParams();\r\n   const [chiefDetail, setChiefDetail] = useState({});\r\n-  const [chiefForum, setchiefForum] = useState([\"\"]);\r\n+  const [chiefForum, setchiefForum] = useState([]);\r\n   const user = useLogin();\r\n \r\n   const getForum = (value) => {\r\n     axios\r\n"
                }
            ],
            "date": 1678270464305,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\r\nimport ForumCard from \"./ForumCard\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Sidebar from \"../Sidebar\";\r\nimport Navbar from \"../Navbar-second\";\r\nimport chief_profile_img from \"../../images/chief_profile.jpg\";\r\nimport { DataGrid } from \"@mui/x-data-grid\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Forum.css\";\r\nimport { updateLogin, useLogin } from \"../../hooks/useLogin\";\r\n\r\nimport {\r\n  ChiefCard,\r\n  ChiefContainer,\r\n  ChiefH1,\r\n  ChiefH2,\r\n  ChiefImage,\r\n  ChiefP,\r\n  ChiefWrapper,\r\n} from \"./ForumStyle\";\r\nimport { useParams } from \"react-router-dom\";\r\nfunction ForumProfile({ Forums }) {\r\n  const rows = [\r\n    { id: 1, lastName: \"Lannister\", firstName: <a>click</a>, age: 42 },\r\n  ];\r\n  const columns = [\r\n    { field: \"id\", headerName: \"ID\", width: 100 },\r\n    { field: \"name\", headerName: \"عنوان\", width: 230 },\r\n    {\r\n      field: \"members_count\",\r\n      headerName: \"تعداد اعضا\",\r\n      width: 150,\r\n      valueGetter: (params) =>\r\n        `<a href=\"${params.getValue(\"id\")}\">${params.getValue(\"id\")}</a>`,\r\n    },\r\n  ];\r\n  const { chiefName } = useParams();\r\n  const [chiefDetail, setChiefDetail] = useState({});\r\n  const [chiefForum, setchiefForum] = useState([]);\r\n  const user = useLogin();\r\n\r\n  const getForum = (value) => {\r\n    axios\r\n      .get(\"http://127.0.0.1:8000/api/forums/\", {\r\n        params: {\r\n          owned: chiefName == user.username ? 1 : 0,\r\n          username: chiefName,\r\n        },\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      })\r\n      .then((response) => {\r\n        let arr = response.data;\r\n        // let row2=Array.isArray(chiefForum).map((forum) => {rows.push(forum)});\r\n        setchiefForum(arr);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"error\", error);\r\n      });\r\n  };\r\n  useEffect(() => {\r\n    const url = `http://127.0.0.1:8000/api/accounts/${chiefName}/profile/?username=${user.username}`;\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(url);\r\n        const json = await response.json();\r\n        setChiefDetail(json);\r\n        getForum(json);\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Sidebar />\r\n      <Navbar />\r\n      <Grid container spacing={2}>\r\n        <Grid container item spacing={2} xs={12} sm={12} md={3}>\r\n          <Grid item xs={12} sm={12} md={12}></Grid>\r\n          <ChiefContainer>\r\n            <ChiefH1>پروفایل آشپز {chiefDetail.username}</ChiefH1>\r\n            <ChiefWrapper>\r\n              <ChiefCard>\r\n                <ChiefImage src={chief_profile_img}></ChiefImage>\r\n                <ChiefH2>\r\n                  {chiefDetail.first_name} {chiefDetail.last_name}\r\n                </ChiefH2>\r\n                <ChiefP>{chiefDetail.bio}</ChiefP>\r\n\r\n                <a\r\n                  href={\r\n                    \"mailto: \" +\r\n                    chiefDetail.email +\r\n                    \"?subject=Mail from Cookommunity\"\r\n                  }\r\n                >\r\n                  سوالات خود را بپرسید!\r\n                </a>\r\n                <button class=\"mbtn\">دنبال کن !</button>\r\n                <button class=\"mbtn2\">دنبال نکن :(</button>\r\n              </ChiefCard>\r\n            </ChiefWrapper>\r\n          </ChiefContainer>\r\n        </Grid>\r\n        <Grid container item spacing={2} xs={12} sm={12} md={9}>\r\n          <Grid item xs={12} sm={12} md={12}>\r\n            <div className=\"forum_body_area\">\r\n              <div className=\"input-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"جست و جوی فورم\"\r\n                ></input>\r\n                <button class=\"btn\">\r\n                  <SearchIcon />\r\n                </button>\r\n              </div>\r\n              {/* <div style={{ height: 700, width: \"100%\" }}> */}\r\n              {/* <DataGrid\r\n                  rows={rows}\r\n                  columns={columns}\r\n                  pageSize={100}\r\n                  rowsPerPageOptions={[50]}\r\n                  checkboxSelection={false}\r\n                /> */}\r\n              <TableContainer component={Paper}>\r\n                <Table\r\n                  sx={{ minWidth: 650, direction: \"rtl\" }}\r\n                  size=\"small\"\r\n                  aria-label=\"a dense table\"\r\n                >\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>شناسه</TableCell>\r\n                      <TableCell>اسم فورم</TableCell>\r\n                      <TableCell>تعداد کاربر</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {chiefForum.m((Forum) => (\r\n                      <TableRow>\r\n                        <TableCell>{Forum.id}</TableCell>\r\n                        <TableCell><Link to={`/forum-profile/${chiefName}/forumList/${Forum.name}/h/${Forum.id}`} >{Forum.name}</Link></TableCell>\r\n                        <TableCell>{Forum.members_count}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ForumProfile;\r\n"
        }
    ]
}